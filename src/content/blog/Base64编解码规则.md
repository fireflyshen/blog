---
author: firefly
pubDatetime: 2024-07-10T15:22:00Z
modDatetime: 2023-07-11T16:12:47.400Z
title: Base64çš„ç¼–ç è§„åˆ™
slug: base64
featured: false
draft: false
tags:
  - JS
  - Base64
description: " "
---

## Base64

Base64å…¶å®å°±æ˜¯ä¸€ä¸ªè§„åˆ™ï¼Œä»è¿™ç‚¹æ¥è®²å’Œå­—ç¬¦é›†å·®ä¸å¤šï¼Œä½œç”¨éƒ½æ˜¯å¯¹æ•°æ®è¿›è¡Œç¼–è§£ç ï¼Œä»ä¸€ç§æ•°æ®è½¬æ¢æˆå¦ä¸€ç§æ•°æ®ï¼ŒBase64ä¸»è¦é’ˆå¯¹çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œå°†äºŒè¿›åˆ¶æ•°æ®ç¼–ç æˆæ–‡æœ¬æ•°æ®åœ¨å°†æ–‡æœ¬æ•°æ®è§£ç æˆäºŒè¿›åˆ¶æ•°æ®

## Base64çš„å®é™…ä½¿ç”¨

å…¶å®å°±æ˜¯äºŒè¿›åˆ¶æ•°æ®è½¬æ–‡æœ¬ï¼Œè¿™é‡Œçœ‹ä¸€ä¸ªä¾‹å­

ä¸€ä¸ªç›¸å¯¹ç®€å•çš„ä¾‹å­ï¼Œå®ç°å›¾ç‰‡ä¸Šä¼ ï¼Œå’Œæ‹–æ‹½ä¸Šä¼ å¹¶ä¸”å®ç°å›¾ç‰‡é¢„è§ˆï¼Œè¿™é‡Œæ˜¯ç”¨äº†`FileReader`è¿™ä¸ªå¯¹è±¡ï¼Œç”¨æ¥å®ç°æ–‡ä»¶çš„é¢„è§ˆï¼Œå½“ç„¶å®é™…ä¸Šä½¿ç”¨`createObjectURL` è¿™ä¸ªå‡½æ•°æ›´å¥½ä¸€äº›ï¼Œä»£ç ä¹Ÿæ›´ç®€æ´ã€‚è¿™é‡Œä½¿ç”¨äº†FileReaderä¸»è¦è¿˜æ˜¯ä¸ºäº†æ¼”ç¤ºBase64ã€‚è¿™é‡Œæ˜¯ç”¨Base64çš„åœ°æ–¹åœ¨`readAsDataURL` è¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå°±æ˜¯æŠŠä½ çš„ä¸Šä¼ çš„å›¾ç‰‡è½¬æ¢æˆäº†Base64ç¼–ç ï¼Œè¿™é‡Œå¦‚ä¸‹

```text
data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxISEhUSEhIVFhUWFhYXFxgVFhgVFhYVFRUXFxUaFRcaHSghGBolGxoVIjEiJSkrLy4uGB8zODMsNygtLisBCgoKDg0OGxAQGzImHyYrLS0tLTIyMC0tLTUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy0tLS0tLS0tLS0tLS0tLf/AABEIARAAuQMBIgACEQEDEQH/....
```

ä¸Šé¢å°±æ˜¯æˆ‘ä¸Šä¼ å›¾ç‰‡ä¹‹åè¿›è¡Œç¼–ç ä¹‹åçš„æ•°æ®ï¼Œå¯ä»¥å°è¯•æ˜¯ç”¨ä¸€ä¸ª`<img>`æ ‡ç­¾ï¼Œç„¶åå°†srcçš„æ•°æ®å¤åˆ¶æˆä¸Šé¢çš„å†…å®¹ï¼Œçš„åˆ°æ•ˆæœå¦‚ä¸‹å›¾

![20240826092107](https://fireflyshen-img.oss-cn-beijing.aliyuncs.com/img20240826092107.png)

## Base64çš„ç¼–ç è§„åˆ™

Base64çš„ç¼–ç è§„åˆ™éå¸¸ç®€å•ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€å¥—æ˜ å°„è§„åˆ™ï¼Œé¦–å…ˆä¸ºä»€ä¹ˆ`Base64`æ˜¯64ä¸æ˜¯å…¶ä»–çš„æ•°å­—ï¼Œå°±æ˜¯å› ä¸ºä»–æ˜¯ä½¿ç”¨äº†64ä¸ªå­—ç¬¦è¿›è¡Œè§„åˆ™æ˜ å°„ï¼Œå¦‚ä¸‹æ‰€ç¤ºğŸ‘‡

- å¤§å†™å­—æ¯A-Z (26ä¸ªå­—ç¬¦)
- å°å†™å­—æ¯a-z (26ä¸ªå­—ç¬¦)
- æ•°å­—0-9 (10ä¸ªå­—ç¬¦)
- ç¬¦å·"+"å’Œ"/" (2ä¸ªå­—ç¬¦)

å¦‚ä¸Šåˆšå¥½64ä¸ªï¼Œå½“ç„¶è¿˜æœ‰ä¸€ä¸ªå‡‘æ•°çš„`=`å­—ç¬¦ï¼Œå¦‚æœè§è¿‡å¯†é’¥çš„è¯åº”è¯¥è§è¿‡å¦‚ä¸‹æ ¼å¼çš„å¯†é’¥

```text

bUdOTONogRAdfQ3BI0t021TlPCOIzBhywT7Ez+B9ir1/EqAIkTlsAWzYiHk3uTb+yb/AG5Djlu2IdYCZ1B6b9YusnVnLaJlcY8sgVODvBBOmWbHSZ1Hsf6glr8MLAfGwkQSBJ6m8dRr15KVT458JyjM1pAdqT4d52toOQQ1eKsfY0wASPhN8piW6xqLcrKKlU5QWgVNTD1GXIcAI00ubJp+IeQZcSNL315dVYYzEU3gRWqB4HiDryZOkbZY8r6qnfWnXn77LRC8t0FiNXcS8km5KRx+vPVc8+K317rncvr5Fbo7G2n6pIweJcx4ewwROmoBEH5LR/vI7K2GiQROa+aNDzEctPW6ytKLc+Ss6FMEAnYfh+KyYilFtOSM9W8XoWB7Q1dnAb2AmNhPKYQjjlYkeJ28+IixsTM6315osHwlzgMoBmwIMCSbTIv/AHTzuBGB42zIB1EyCTlnWARppBWX9FaWRWlN7EOvxWs4OmoTmbBBJMxoddotyXvmc8z7rwyvwkMDjnBJyhseJviEzO4FxK947vqPmteHcNbF9FS1uf/Z==

```

åé¢è·Ÿäº†ä¸¤ä¸ªç­‰å·ï¼Œè¿™ç©æ„å°±æ˜¯ä¸€ä¸ªBase64ç¼–ç çš„æƒ…å†µã€‚åé¢çš„ç­‰å·å°±æ˜¯ä¸ªå¡«å……å­—ç¬¦

ä¸‹é¢æ˜¯`Base64`çš„ç¼–ç è¡¨

**Base64çš„ç¼–ç è¿‡ç¨‹**

1. å°†è¾“å…¥çš„æ•°æ®ä»¥3ä¸ªå­—èŠ‚åˆ†æˆä¸€ç»„
2. å°†è¿™3ä¸ªå­—èŠ‚çš„24ä½åˆ†æˆ4ç»„,æ¯ç»„6ä½
3. æ¯ç»„6ä½è½¬æ¢æˆä¸€ä¸ª0-63ä¹‹é—´çš„æ•°å­—
4. æ ¹æ®è¿™ä¸ªæ•°å­—æŸ¥è¡¨å¾—åˆ°å¯¹åº”çš„å¯æ‰“å°å­—ç¬¦

ä¾‹ï¼šæ¯”å¦‚helloè¿™ä¸ªå•è¯è¿›è¡ŒBase64ç¼–ç è¿‡ç¨‹å¦‚ä¸‹

1. é¦–å…ˆæŸ¥å¤„è¿™ä¸ªå•è¯çš„ASCIIç ï¼Œå¯¹åº”ä¸º`104,101,108,108,111`
2. å¾—åˆ°äºŒè¿›åˆ¶ç¼–ç åˆ†åˆ«æ˜¯`01101000 01100101 01101100 01101100 01101111`
3. å°†äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œæ¯6ä½ä¸€ç»„ï¼Œ`011010 000110 010101 101100 011011 000110 1111`
4. å› ä¸ºæœ€åä¸€ä½ä¸å¤Ÿ6ä½å› æ­¤è¡¥0`011010 000110 010101 101100 011011 000110 111100`
5. å°†åˆ†ç»„çš„6ä½è½¬æ¢æˆåè¿›åˆ¶ï¼Œç„¶åæ ¹æ®ç¼–ç è¡¨æ‰¾åˆ°å¯¹åº”çš„é¥¿å­—ç¬¦ï¼Œ`26 6 21 44 27 6 60`=> `26 = a 6 = G 21 = V 44 = s 27 = b 6 = G 60 = 8`
6. å°†è¿™äº›å­—ç¬¦é“¾æ¥èµ·æ¥`aGVsbG8`
7. å› ä¸ºåŸå§‹å­—ç¬¦ä¸²æ˜¯`hello`æ€»å…±5ä¸ªå­—èŠ‚ï¼Œè€ŒBase64æ˜¯å°†3ä¸ªå­—èŠ‚ç¼–ç æˆ4ä¸ª`Base64`å­—ç¬¦,æ‰€ä»¥è¿™é‡Œç”¨`5 % 3 = 2`æ ¹æ®ç¼–ç è§„åˆ™å› æ­¤æ˜¯ä¸€ä¸ª=
   1. å¦‚æœä½™0ï¼Œä¸æ·»åŠ "="
   2. å¦‚æœä½™1ï¼Œæ·»åŠ ä¸¤ä¸ª"=="
   3. å¦‚æœä½™2ï¼Œæ·»åŠ ä¸€ä¸ª"="

**Base64çš„è§£ç è¿‡ç¨‹**

1. ç§»é™¤å¡«å……å­—ç¬¦`=`,å¾—åˆ°`aGVsbG8`
2. å°†å­—ç¬¦æŒ‰ç…§ç¼–ç è¡¨è½¬æ¢æˆ`Base64`ç¼–ç ç´¢å¼•:`26 = a 6 = G 21 = V 44 = s 27 = b 6 = G 60 = 8` => `26 6 21 44 27 6 60`
3. å°†æ¯ä¸ªç´¢å¼•å€¼è½¬æ¢ä¸º6ä½äºŒè¿›åˆ¶ï¼š`26 -> 011010 6  -> 000110 21 -> 010101 44 -> 101100 27 -> 011011 6  -> 000110 60 -> 111100`
4. å°†æ‰€æœ‰äºŒè¿›åˆ¶ä½è¿æ¥èµ·æ¥ï¼š`011010000110010101101100011011000110111100`
5. å°†è¿™ä¸²äºŒè¿›åˆ¶æ¯8ä½åˆ†æˆä¸€ç»„ï¼ˆå› ä¸ºä¸€ä¸ªå­—èŠ‚æ˜¯8ä½ï¼‰ï¼š`01101000 01100101 01101100 01101100 01101111 00`
6. å¤„ç†å¤šä½™çš„ä½ï¼š
   1. æˆ‘ä»¬çŸ¥é“åŸå§‹ç¼–ç æœ«å°¾æœ‰ä¸€ä¸ª"="ï¼Œè¿™è¡¨ç¤ºæœ€åä¸€ç»„3å­—èŠ‚ä¸­åªæœ‰2ä¸ªæœ‰æ•ˆå­—èŠ‚ã€‚
   2. å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°ä¸¢å¼ƒæœ€åçš„ä¸¤ä¸ª"0"ï¼Œå› ä¸ºå®ƒä»¬æ˜¯åœ¨ç¼–ç è¿‡ç¨‹ä¸­ä¸ºäº†å‡‘å¤Ÿ6ä½è€Œæ·»åŠ çš„ï¼Œä¸å±äºåŸå§‹æ•°æ®ã€‚
7. å¾—åˆ°å®é™…çš„äºŒè¿›åˆ¶æ•°æ®ï¼š`01101000 01100101 01101100 01101100 01101111`
8. å°†æ¯ç»„8ä½äºŒè¿›åˆ¶è½¬æ¢ä¸ºå¯¹åº”çš„ASCIIå€¼ï¼š`01101000 -> 104 01100101 -> 101 01101100 -> 108 01101100 -> 108 01101111 -> 111`
9. å°†ASCIIå€¼è½¬æ¢ä¸ºå¯¹åº”çš„å­—ç¬¦ï¼š`104 -> h 101 -> e 108 -> l 108 -> l 111 -> o`
10. ç»„åˆè¿™äº›å­—ç¬¦ï¼š`hello`

## å¤„ç†Base64æ•°æ®çš„API

### å¤„ç†å­—ç¬¦ç±»å‹çš„æ•°æ®

```js
var str = "hello,world";
// ç¼–ç 
var base64Code = btoa(str);
console.log(base64Code); // aGVsbG8sd29ybGQ=

// è§£ç 
var originData = atob(base64Code);
console.log(originData); // hello,world

// å¤„ç†UniCodeå­—ç¬¦
var unicodeString = "ä½ å¥½ï¼Œä¸–ç•Œï¼";
var textEncoder = new TextEncoder();
// å°†unicodeç¼–ç æˆutf8å­—èŠ‚
var utf8Bytes = textEncoder.encode(unicodeString);

// å°†äºŒè¿›åˆ¶è½¬æ¢æˆå­—ç¬¦
var code = String.fromCharCode(...utf8Bytes);
var base64Unicode = btoa(code);
console.log(base64Unicode);

// è§£ç è¿‡ç¨‹
// å°†ç¼–ç çš„Base64è§£ç æˆäºŒè¿›åˆ¶æ•°æ®
var uniCodeBytes = atob(base64Unicode);
// åˆ›å»ºä¸€ä¸ªäºŒè¿›åˆ¶æ•°ç»„ç”¨äºç››æ”¾æ•°æ®
var uint8Array = new Uint8Array(uniCodeBytes.length);
// å¾ªç¯å°†å…¶è½¬æ¢æˆunicodæ•°æ®
for (let i = 0; i < uint8Array.length; i++) {
  uint8Array[i] = uniCodeBytes.charCodeAt(i);
}
// è§£ç unicode
var originDataUniCode = new TextDecoder().decode(uint8Array);
console.log(originDataUniCode);
```

## é™„ï¼šBase64ç¼–ç è¡¨

| å€¼  | å­—ç¬¦ | å€¼  | å­—ç¬¦ | å€¼  | å­—ç¬¦ | å€¼  | å­—ç¬¦ |
| --- | ---- | --- | ---- | --- | ---- | --- | ---- |
| 0   | A    | 16  | Q    | 32  | g    | 48  | w    |
| 1   | B    | 17  | R    | 33  | h    | 49  | x    |
| 2   | C    | 18  | S    | 34  | i    | 50  | y    |
| 3   | D    | 19  | T    | 35  | j    | 51  | z    |
| 4   | E    | 20  | U    | 36  | k    | 52  | 0    |
| 5   | F    | 21  | V    | 37  | l    | 53  | 1    |
| 6   | G    | 22  | W    | 38  | m    | 54  | 2    |
| 7   | H    | 23  | X    | 39  | n    | 55  | 3    |
| 8   | I    | 24  | Y    | 40  | o    | 56  | 4    |
| 9   | J    | 25  | Z    | 41  | p    | 57  | 5    |
| 10  | K    | 26  | a    | 42  | q    | 58  | 6    |
| 11  | L    | 27  | b    | 43  | r    | 59  | 7    |
| 12  | M    | 28  | c    | 44  | s    | 60  | 8    |
| 13  | N    | 29  | d    | 45  | t    | 61  | 9    |
| 14  | O    | 30  | e    | 46  | u    | 62  | +    |
| 15  | P    | 31  | f    | 47  | v    | 63  | /    |
